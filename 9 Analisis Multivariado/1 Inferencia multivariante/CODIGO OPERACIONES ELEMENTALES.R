A1 = matrix(c(1,3,5, 2,4,5,2,5,6, -1,2,4),3,4)
A1
#columna 2 -  2 col1
E1=matrix(c(2,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),4,4)
E1
E2=matrix(c(1,0,0,0,-1,1,0,0,0,0,1,0,0,0,0,1),4,4)
E2
E3=matrix(c(1/2,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),4,4)
E3
P=E1%*%E2%*%E3
A1%*%P
P2 = matrix(c(1,0,0,0,0,1,0,0,-2,0,1,0,0,0,0,1),4,4)
A1%*%P%*%P2
P3= matrix(c(1,0,0,0,0,1,0,0,0,0,1,0,1,0,0,1),4,4)
A1%*%P%*%P2%*%P3

F1=matrix(c(1,-3,0,0,1,0,0,0,1),3,3)
F1%*%A1%*%P%*%P2%*%P3
F2=matrix(c(1,0,-5,0,1,0,0,0,1),3,3)
F2%*%F1%*%A1%*%P%*%P2%*%P3

F3 = matrix(c(1,0,0,0,-1/2,-1/2,0,0,1),3,3)
F3
F3%*%F2%*%F1%*%A1%*%P%*%P2%*%P3
F4=matrix(c(1,0,0,0,1,4,0,0,1),3,3)
F4%*%F3%*%F2%*%F1%*%A1%*%P%*%P2%*%P3

# operaciones columna
P4 = matrix(c(1,0,0,0, 0,1,0,0, 0,-0.5,1,0, 0,2.5,0,1),4,4)
F4%*%F3%*%F2%*%F1%*%A1%*%P%*%P2%*%P3%*%P4
P5 = matrix(c(1,0,0,0, 0,1,0,0, 0,0,-2/3,0, 0,0,-2/3,1),4,4)
F4%*%F3%*%F2%*%F1%*%A1%*%P%*%P2%*%P3%*%P4%*%P5
P6 = matrix(c(1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,2.5,1),4,4)
F4%*%F3%*%F2%*%F1%*%A1%*%P%*%P2%*%P3%*%P4%*%P5%*%P6

PP =F4%*%F3%*%F2%*%F1
QQ =P%*%P2%*%P3%*%P4%*%P5%*%P6


qr(A1)$rank


# WALDIR
A1 = matrix(c(1,3,5, 2,4,5, 2,5,6, -1,2,4),3,4)

P = matrix(c(1,-3,-5, 0,1,0, 0,0,1),3,3)
P%*%A1

Q = matrix(c(1,0,0,0, -2,1,0,0, -2,0,1,0, 1,1,1,1),4,4)

P%*%A1%*%Q

S = matrix(c(1,0,0, 0,1,-4, 0,0,1),3,3)
S%*%P%*%A1%*%Q

M = matrix(c(1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,0,1),4,4)
S%*%P%*%A1%*%Q%*%M

N = matrix(c(1,0,0,0, 0,-1,0,0, 0,-2,1,0, -4,2,0,1),4,4)
S%*%P%*%A1%*%Q%*%M%*%N
O = matrix(c(1,0,0,0, 0,1,0,0, 0,0,1/3,0, 0,0,0,-1/8),4,4)
S%*%P%*%A1%*%Q%*%M%*%N%*%O

H = matrix(c(1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,-1,1),4,4)
S%*%P%*%A1%*%Q%*%M%*%N%*%O%*%H